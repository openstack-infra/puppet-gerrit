# This file is managed by puppet.
# https://git.openstack.org/cgit/openstack-infra/system-config

[gerrit]
defaultForceUpdate = <%= @replication_force_update %>

<% @replication.each do |replication| -%>
[remote "<%= replication['name'] %>"]
	url = <%= replication['url'] %>${name}.git
<% if replication['replicationDelay'] != nil -%>
	replicationDelay = <%= replication['replicationDelay'] %>
<% end -%>
<% if replication['threads'] != nil -%>
	threads = <%= replication['threads'] %>
<% end -%>
<% if replication['authGroup'] != nil -%>
	authGroup = <%= replication['authGroup'] %>
<% end -%>
<% if replication['replicatePermissions'] != nil -%>
	replicatePermissions = <%= replication['replicatePermissions'] %>
<% end -%>
<% if replication['mirror'] != nil -%>
	mirror = <%= replication['mirror'] %>
<% end -%>
<% if replication['projects'] != nil -%>
<% replication['projects'].each do |project| -%>
	projects = <%= project %>
<% end -%>
<% if replication['push'] != nil -%>
<% replication['push'].each do |pushref| -%>
	push = <%= pushref %>
<% end -%>
<% end -%>
<% end -%>
